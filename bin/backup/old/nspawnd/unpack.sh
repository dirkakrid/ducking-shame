#!/bin/env bash
##########################################################################################################################################################################################
function usage {
cat << EOF
${0} - help
-r rootfs     -
-o overlayfs  -
EOF
if [[ ${2} ]];then printf "%s\n" "${2}";fi
exit 1
}
##########################################################################################################################################################################################
#DEFAULTS
##########################################################################################################################################################################################
while getopts 'r:o:h' arg;do
case "${arg}" in 
r)
ROOTFS="${OPTARG}"
ROOTFS_+="${ROOTFS}"
;;
o)
OVERLAYFS="${ROOTFS}.${OPTARG}"
OVERLAYFS_+="${OVERLAYFS}"
;;
h) usage 0;;
*) usage 1;;
esac
done
##########################################################################################################################################################################################
function debuggery {
cat << EOF 
debuggery...
EOF
}
##########################################################################################################################################################################################
unpack...
1. check rawfs.... -r /mnt/container/rawfs/rootfs / -r -o /mnt/container/rawfs/rootfs.overlayfs
2. decrypt... dir dive into keys rootfs/rootfs.overlayfs.key < gpg --homedir /mnt/container/gnupg 
3. mount /dev/mapper/raw.img
##########################################################################################################################################################################################
if [[ ! -z ${ROOTFS} && ! -z ${OVERLAYFS} ]];then

##########################################################################################################################################################################################
elif [[ ! -z ${ROOTFS} && -z ${OVERLAYFS} ]];then

##########################################################################################################################################################################################
else usage 1 "no input";fi
##########################################################################################################################################################################################
